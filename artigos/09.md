---
layout: default
title: CSRF - Cross-Site Request Forgery
permalink: /artigos/09.md/
---
  
<p align="center">
 <a href="https://carineconstantino.github.io/cybersecurity/">Página Inicial</a>
 || 
 <a href="https://carineconstantino.github.io/cybersecurity/">Próximo</a>  
 || 
 <a href="https://carineconstantino.github.io/cybersecurity/artigos/08.md">Anterior</a>   
</p>

## CSRF - Cross-Site Request Forgery

O ataque **Cross-Site Request Forgery** utiliza como vetor os ataques de Phshing e Engenharia Social para enganar a vítima. Usando um link para uma página web como o primeiro payload, a vítima pode ser conduzida a acessar a página e quando isso ocorre, o atacante consegue "forjar" ações do usuário em outros sites nos quais o usuário esteja autenticado. Isso acontece porque em sessões logadas, o navegador armazena os cookies da sessão para identificação e também para persistência. Quando a requisição é encaminhada através do navegador da vítima com os cookies da sessão autenticada, o site não consegue distringuir entre uma ação legítima do usuário ou uma ação "forjada" pelo script do CSRF. 

Outro modo de executar o **Cross-Site Request Forgery** é quando dentro do site legítimo as TAG IMG e IFRAME são utilizadas para armazenar payloads do ataque. Nesse caso, o ataque pode ser ainda mais difícil de ser percebido pelo usuário que acessa um site legítimo e não imagina que ele esteja executando ações "forjadas" em background. 

## Ambiente de Teste

A aplicação [DVWA](http://www.dvwa.co.uk) fornece um formulário para troca de senha onde é possível testar essa vulnerabilidade. No entanto, nessa aplicação o teste do CSRF é simples demais e, na minha opinião, não mostra o ataque em um cenário mais parecido com a realidade. Dito isso, no ambiente de teste vou utilizar outra aplicação vulnerável chamda [Mutillidae](https://github.com/webpwnized/mutillidae) criada pelo projeto [OWASP](https://owasp.org)

Antes de iniciar os testes com o multillidae é necessário configurar a base de dados, conforme os passos abaixo listados: 

1. acessa ```/var/www/mutillidade/```
2. acessa ```config.inc```
3. configura ```$dbname = 'owasp10'```

![blog_comments](https://carineconstantino.github.io/cybersecurity/artigos/imagens/blog_comments.png)




